{"version":3,"sources":["webpack://veinif/webpack/bootstrap","webpack://veinif/webpack/runtime/global","webpack://veinif/webpack/runtime/publicPath","webpack://veinif/./src/game/playerInfo.ts","webpack://veinif/./src/core/player/pronouns.ts","webpack://veinif/./src/core/player/playerInfo.ts","webpack://veinif/./src/core/model/paragraph.ts","webpack://veinif/./src/core/model/Stat.ts","webpack://veinif/./src/tools/formatting.ts","webpack://veinif/./src/game/allParagraphs.ts","webpack://veinif/./src/core/model/item.ts","webpack://veinif/./src/core/inventory/inventory.ts","webpack://veinif/./src/core/player/statInfos.ts","webpack://veinif/./src/core/conditions/consequences.ts","webpack://veinif/./src/core/conditions/checkConditions.ts","webpack://veinif/./src/core/conditions/choiceCondition.ts","webpack://veinif/./src/core/model/save.ts","webpack://veinif/./src/core/script/saveScript.ts","webpack://veinif/./src/core/conditions/itemCondition.ts","webpack://veinif/./src/core/paragraphs/paragraphFunctions.ts","webpack://veinif/./src/core/paragraphs/showChoices.ts","webpack://veinif/./src/core/paragraphs/showItems.ts","webpack://veinif/./src/core/script/settings.ts","webpack://veinif/./src/core/script/index.ts"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","Error","replace","p","defaultPlayer","id","playerName","pronouns","Category","subjectPro","objectPro","possAdj","possessivePro","reflex","is","showPronounDialogue","pronounsContainer","getElementById","pronounsLength","i","pronounEntry","innerHTML","addEventListener","getPronouns","selectedPronoun","querySelector","value","found","find","element","showPronouns","setPronouns","console","log","pronounsClassed","querySelectorAll","forEach","getPlayer","setPlayer","newPlayer","getName","inputName","showNameDiv","container","statStyle","conStyle","singleParagraph","paragraph","capitalise","word","toUpperCase","substr","toLowerCase","greyOut","thing","style","color","verbForm","form","original","type","requiredElement","message","failedMessage","showOnCondition","statWithStyle","s","v","statName","super","getParagraph","player","name","content","choices","nextName","consequence","item","itemName","itemQty","description","itemCode","stat","show","precondition","cat","inventoryItem","pickedUpLocation","push","inventory","addToInventory","getInventory","clearInventory","getItem","pName","inInventory","appendItemHTML","itemHTML","itemDescriptionHTML","remove","removeItemHTML","textContent","pNameCheck","newItem","inventoryTab","inventoryTabContent","tab","tabContent","clearInventoryHTML","playerStat","getStat","addNewStat","newStat","loadStat","clearAllStat","appendStatHTML","clearStatHTML","showAllStatHTML","applyConsequence","getCurrentParagraphName","modifyStatValue","hide","updateStatHTML","handleStats","checkStat","elementId","elementHTML","checkResult","failed","passed","checkInInventory","checkChoiceCondition","choice","condition","a","b","temp","choiceHTML","classList","add","Save","pname","currentParagraphName","date","Date","toLocaleString","save","JSON","stringify","load","retrievedSave","updateParagraph","checked","loadPronounsRadioBtn","autoSave","localStorage","setItem","getSaveDesc","saveSlot","parse","checkItemCondition","preItem","requiredItem","currentParagraph","itemContainer","choiceContainer","findIndex","nextParagraph","items","currentName","paragraphContainerContent","currentChoice","contains","parent","firstChild","removeChild","removeAllChildNodes","showChoices","currentItem","includes","pickedUp","newLocation","itemBlocked","once","showItems","target","matches","restartGame","onload","autoLoad","nameInput","slotNumber","getAttribute","saveMessage","saveOutput","btoa","select","exportStorageSave","exportSave","loadCode","atob","loadSaveCode"],"mappings":"oGACIA,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,IAOV,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,QCrBfJ,EAAoBO,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,GACd,MAAOC,GACR,GAAsB,iBAAXC,OAAqB,OAAOA,QALjB,G,MCAxB,IAAIC,EACAb,EAAoBO,EAAEO,gBAAeD,EAAYb,EAAoBO,EAAEQ,SAAW,IACtF,IAAIC,EAAWhB,EAAoBO,EAAES,SACrC,IAAKH,GAAaG,IACbA,EAASC,gBACZJ,EAAYG,EAASC,cAAcC,MAC/BL,GAAW,CACf,IAAIM,EAAUH,EAASI,qBAAqB,UACzCD,EAAQE,SAAQR,EAAYM,EAAQA,EAAQE,OAAS,GAAGH,KAK7D,IAAKL,EAAW,MAAM,IAAIS,MAAM,yDAChCT,EAAYA,EAAUU,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFvB,EAAoBwB,EAAIX,G,SCKjB,IAAIY,EAAgB,CACvBC,GAAI,EACJC,WAAY,GACZC,SAAU,CACNC,SAAU,GACVC,WAAY,GACZC,UAAW,GACXC,QAAS,GACTC,cAAe,GACfC,OAAQ,GACRC,GAAI,KC1BL,MAAMP,EAAW,CACpB,CACIC,SAAU,SACVC,WAAY,KACZC,UAAW,MACXC,QAAS,MACTC,cAAe,MACfC,OAAQ,UACRC,GAAI,SAER,CACIN,SAAU,UACVC,WAAY,MACZC,UAAW,MACXC,QAAS,MACTC,cAAe,OACfC,OAAQ,UACRC,GAAI,UAER,CACIN,SAAU,YACVC,WAAY,OACZC,UAAW,OACXC,QAAS,QACTC,cAAe,SACfC,OAAQ,aACRC,GAAI,aAOL,SAASC,IACZ,IAAIC,EAAoBrB,SAASsB,eAAe,YAChD,GAAID,EAAmB,CACnB,IAAIE,EAAiBX,EAASP,OAC9B,IAAK,IAAImB,EAAI,EAAGA,EAAID,EAAgBC,IAAK,CACrC,IAAIC,EAAe,yCACOb,EAASY,GAAGV,sCAAsCF,EAASY,GAAGX,uCAC1ED,EAASY,GAAGV,eAAeF,EAASY,GAAGX,uBACrDQ,EAAkBK,WAAaD,EAEnCJ,EAAkBM,iBAAiB,QAASC,IAM7C,SAASA,IACZ,IAAIC,EAAkB7B,SAAS8B,cAAc,mCAAmCC,MAC5EC,EAAQpB,EAASqB,MAAKC,GAAWA,EAAQrB,UAAYgB,IACrDG,GAWD,SAAqBpB,GACxB,WAAkBA,EAClBuB,EAAavB,GAZTwB,CAAYJ,GAGhBK,QAAQC,IAAIT,GACZQ,QAAQC,IAAI,GAiBT,SAASH,EAAavB,GACzB,IAAI2B,EAAkBvC,SAASwC,iBAAiB,mBAC5CD,GACAA,EAAgBE,SAAQP,GAAWA,EAAQR,UAAY,GAAGd,EAASC,aC/EpE,MAAM,EAAS,CAClBH,GAAI,EACJC,WAAY,GACZC,SAAU,CACNC,SAAU,GACVC,WAAY,GACZC,UAAW,GACXC,QAAS,GACTC,cAAe,GACfC,OAAQ,GACRC,GAAI,KAGL,SAASuB,IACZ,OAAO,EAYJ,SAASC,EAAUC,GACtB,EAAOlC,GAAKkC,EAAUlC,GACtB,EAAOC,WAAaiC,EAAUjC,WAC9B,EAAOC,SAAWgC,EAAUhC,SAQzB,SAASiC,IACZ,IAPoBC,EAOhBnC,EAAaX,SAASsB,eAAe,cAAcS,MACvDM,QAAQC,IAAI,mBAAmB3B,KARXmC,EASZnC,EARR,EAAOA,WAAamC,EASpBC,EAAYpC,GACZ0B,QAAQC,IAAI,GAMT,SAASS,EAAYpC,GACxB,MAAMqC,EAAYhD,SAASwC,iBAAiB,aACxCQ,GACAA,EAAUP,SAAQP,IACdA,EAAQR,UAAY,GAAGf,QCrD5B,IAAI,ECMAsC,EDLAC,KAIR,IAAa,EAAW,KAHdA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAiB,OAAI,GAAK,SACnCA,EAASA,EAAqB,WAAI,GAAK,aAgBpC,MAAMC,EACT,YAAY3C,GACRf,KAAK2D,UAAY5C,GElBlB,SAAS6C,EAAWC,GACvB,OAAKA,EAEEA,EAAK,GAAGC,cAAgBD,EAAKE,OAAO,GAAGC,cADnCH,EAKR,SAASI,EAAQC,GACpBA,EAAMC,MAAMC,MAAQ,UAUjB,SAASC,EAASC,EAAMC,GAE3B,MAA0B,QHCnBtB,IAAY9B,SGDPE,WACDkD,EAGAD,GAGR,SAAyBE,EAAMC,EAAiBnC,EAAOoC,EAASC,GACnE,OAAQH,GACJ,KAAMA,EAAO,OAIb,KAAMA,EAAO,OAIb,KAAMA,EAAO,QAIb,KAAMA,EAAO,aAMrBI,CAAgB,QD5ChB,SAAWpB,GACPA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAgB,KAAI,GAAK,OAFvC,CAGGA,IAAcA,EAAY,KAKtB,MAAMqB,UAfN,MACH,YAAYC,EAAGC,GACX/E,KAAKgF,SAAWF,EAChB9E,KAAKsC,MAAQyC,IAajB,YAAYD,EAAGC,EAAGZ,GACdc,MAAMH,EAAGC,GACT/E,KAAKmE,MAAQA,G,aEXd,SAASe,EAAaC,GAqVzB,MApViB,CACb,CACIC,KAAM,GACNC,QAAS,GACTC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,GACTE,SAAU,MAItB,CACIH,KAAM,QACNC,QAAS,g4BAS2FF,GAAQjE,uLAM5GoE,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,6FACTE,SAAU,UACVC,YAAa,CACTC,KAAM,CACF,CACIC,SAAU,YACVC,QAAS,EACTC,YAAa,6BACbC,SAAU,kBAOlC,CACIT,KAAM,UACNC,QAAS,wHAETC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,sDACTE,SAAU,MACVC,YAAa,CACTM,KAAM,CACF,CAAEd,SAAU,eAAgB1C,MAAO,GAAI6B,MAAOX,EAAUuC,SAIpE,CACI9E,GAAI,EACJoE,QAAS,6DACTE,SAAU,MACVC,YAAa,CACTM,KAAM,CACF,CAAEd,SAAU,WAAY1C,MAAO,GAAI6B,MAAOX,EAAUuC,SAIhE,CACI9E,GAAI,EACJoE,QAAS,mHACTE,SAAU,MACVC,YAAa,CACTM,KAAM,CACF,CAAEd,SAAU,eAAgB1C,MAAO,EAAG6B,MAAOX,EAAUuC,MACvD,CAAEf,SAAU,WAAY1C,MAAO,EAAG6B,MAAOX,EAAUuC,WAMvE,CACIX,KAAM,MACNC,QAAS,sRAMTC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,qBACTE,SAAU,kBAItB,CACIH,KAAM,eACNC,QAAS,0GAEJF,GAAQjE,8kBAQboE,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,+DACTE,SAAU,mBAEd,CACItE,GAAI,EACJoE,QAAS,0DACTE,SAAU,YAItB,CACIH,KAAM,SACNC,QAAS,2PAITC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,wFACTE,SAAU,cACVS,aAAc,CACVF,KAAM,CACF,CAAEd,SAAU,eAAgB1C,MAAO,MAI/C,CACIrB,GAAI,EACJoE,QAAS,wEACTE,SAAU,aACVC,YAAa,CACTM,KAAM,CACF,CAAEd,SAAU,UAAW1C,OAAQ,EAAG6B,MAAOX,EAAUuC,WAMvE,CACIX,KAAM,aACNC,QAAS,gqBAOTC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,uFACTE,SAAU,kBAItB,CACIH,KAAM,cACNC,QAAS,8pBAMTC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,wEACTE,SAAU,kBAItB,CACIH,KAAM,eACNC,QAAS,gfAITI,KAAM,CACF,CACIC,SAAU,cACVC,QAAS,EACTC,YAAa,iDACbC,SAAU,gBAGlBP,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,2BACTE,SAAU,kBAItB,CACIH,KAAM,kBACNC,QAAS,oNAETC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,qBACTE,SAAU,uBAItB,CACIH,KAAM,oBACNC,QAAS,qfAOTC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,uBACTE,SAAU,kBAItB,CACIH,KAAM,eACNC,QAAS,qcAMTC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,+CACTE,SAAU,WAEd,CACItE,GAAI,EACJoE,QAAS,0CACTE,SAAU,UACVS,aAAc,CACVP,KAAM,CACF,CACIC,SAAU,cACVC,QAAS,EACTE,SAAU,kBAK1B,CACI5E,GAAI,EACJoE,QAAS,iEACTE,SAAU,UACVS,aAAc,CACVF,KAAM,CACF,CAAEd,SAAU,WAAY1C,MAAO,SAMnD,CACI8C,KAAM,UACNC,QAAS,aAAaY,0JAKtBX,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,yBACTE,SAAU,aAItB,CACIH,KAAM,UACNC,QAAS,mKAGTC,QAAS,CACL,CACIrE,GAAI,EACJoE,QAAS,gDACTE,SAAU,OACVS,aAAc,CACVF,KAAM,CAAC,CAAEd,SAAU,UAAW1C,MAAO,OAG7C,CACIrB,GAAI,EACJoE,QAAS,8CACTE,SAAU,gBACVS,aAAc,CACVF,KAAM,CAAC,CAAEd,SAAU,UAAW1C,MAAO,QAKrD,CACI8C,KAAM,OACNC,QAAS,+CACJF,GAAQjE,4BAA4BiE,GAAQhE,SAASO,cAAckC,EAAWuB,GAAQhE,SAASO,qBAAqBkC,EAAWuB,GAAQhE,SAASE,eAAegD,EAAS,MAAO,2JAIxL,CACIe,KAAM,UACNC,QAAS,0MAIb,CACID,KAAM,gBACNC,QAAS,+CACJF,GAAQjE,4BAA4BiE,GAAQhE,SAASO,cAAckC,EAAWuB,GAAQhE,SAASO,qBAAqBkC,EAAWuB,GAAQhE,SAASE,eAAegD,EAAS,MAAO,mOChVzL,MAAM6B,EACT,YAAYnE,EAAGhB,GAEXf,KAAKmG,iBAAmB,GACxBnG,KAAKyF,KAAO1D,EACZ/B,KAAKmG,iBAAiBC,KAAKrF,ICV5B,IAAIsF,EAAY,GACvB,SAASC,EAAeb,GACpBY,EAAUD,KAAKX,GAUZ,SAASc,IACZ,OAAOF,EAEJ,SAASG,IAEZ,OADAH,EAAUzF,OAAS,EACZyF,EAEJ,SAASI,EAAQhB,EAAMiB,GAC1B,MAAMC,EAAcN,EAAU7D,MAAKC,GAAWA,EAAQgD,KAAKI,UAAYJ,EAAKI,WAC5E,GAAKc,EAOA,GAAIA,GAA2C,GAA5BA,EAAYlB,KAAKE,QACrCgB,EAAYlB,KAAKE,SAAWF,EAAKE,QACjC/C,QAAQC,IAAI,GAAG4C,EAAKC,+DACpB9C,QAAQC,IAAIwD,GACZO,EAAeD,EAAYlB,WAK3B,GAFAkB,EAAYlB,KAAKE,SAAWF,EAAKE,QAED,GAA5BgB,EAAYlB,KAAKE,SA8BtB,SAAwBE,GAC3B,IAAIgB,EAAWtG,SAAS8B,cAAc,UAAUwD,SAC5CiB,EAAsBvG,SAAS8B,cAAc,UAAUwD,KAC3DgB,EAASE,SACTD,EAAoBC,SAjCZC,CAAeL,EAAYlB,KAAKI,cAE/B,CACDjD,QAAQC,IAAI,GAAG4C,EAAKC,+DACpB9C,QAAQC,IAAIwD,GAEM9F,SAAS8B,cAAc,IAAIoD,EAAKI,qBACtCoB,YAAc,aAAaN,EAAYlB,KAAKE,UACxD,IAAIuB,EAAaP,EAAYR,iBAAiB3D,MAAKlC,GAAYA,GAAYoG,IAC3E9D,QAAQC,IAAIqE,EAAYR,GACnBQ,GACDP,EAAYR,iBAAiBC,KAAKM,OA5B5B,CACd,IAAIS,EAAU,IAAIjB,EAAcT,EAAMiB,GACtC9D,QAAQC,IAAI,GAAG4C,EAAKC,wCACpBY,EAAea,GACfvE,QAAQC,IAAIwD,GACZO,EAAenB,IAmDhB,SAASmB,EAAenB,GAC3B,IAAI2B,EAAe7G,SAAS8B,cAAc,kBACtCgF,EAAsB9G,SAAS8B,cAAc,yBAC7CiF,EAAM,8FAEM7B,EAAKI,wEAEFJ,EAAKI,iEAEGJ,EAAKI,mCAAmCjC,EAAW6B,EAAKC,+BAEnF0B,EAAanF,WAAaqF,EAC1B,IAAIC,EAAa,8CACL9B,EAAKI,gEAEQJ,EAAKI,uBAC5BJ,EAAKG,6BACIH,EAAKI,gCAAgCJ,EAAKE,4BAErD0B,EAAoBpF,WAAasF,EAK9B,SAASC,IACZ,IAAIJ,EAAe7G,SAAS8B,cAAc,kBACtCgF,EAAsB9G,SAAS8B,cAAc,yBACjD+E,EAAaH,YAAc,GAC3BI,EAAoBJ,YAAc,GCzG/B,IAAIQ,EAAa,CACpB,CAAEzC,SAAU,uBAAwB1C,MAAO,GAAI6B,MAAOX,EAAUuC,MAChE,CAAEf,SAAU,WAAY1C,MAAO,EAAG6B,MAAOX,EAAUuC,MACnD,CAAEf,SAAU,eAAgB1C,MAAO,EAAG6B,MAAOX,EAAUuC,OAUpD,SAAS2B,IACZ,OAAOD,EAOJ,SAASE,EAAW3C,EAAU1C,EAAO6B,GACxC,IAAIyD,EAAU,IAAI/C,EAAcG,EAAU1C,EAAO6B,GACjDuD,IAAUtB,KAAKwB,GAUZ,SAASC,EAAS/B,GACrBA,EAAK9C,SAAQP,GAAWkF,EAAWlF,EAAQuC,SAAUvC,EAAQH,MAAOG,EAAQ0B,SAEzE,SAAS2D,IAEZ,OADAJ,IAAU9G,OAAS,EACZ6G,EAkCJ,SAASM,EAAejC,GACPvF,SAASwC,iBAAiB,SAChCC,SAAQP,IAClBA,EAAQR,WAAa,iBAAiB6D,EAAKd,aAAac,EAAKd,aAAac,EAAKxD,iBAIhF,SAAS0F,IACQzH,SAAS8B,cAAc,SAC7B4E,YAAc,GAKzB,SAASgB,EAAgBnC,GAC5BA,EAAK9C,SAAQP,IACT,OAAQA,EAAQ0B,OACZ,KAAM1B,EAAQ0B,MAAQX,EAAUuC,KAC5BgC,EAAetF,OCxFxB,SAASyF,EAAiB1C,GAC7B,IAAIC,EAAOD,EAAYC,KACnBK,EAAON,EAAYM,KACnBL,GACAA,EAAKzC,SAAQyC,IACTgB,EAAQhB,EAAM0C,SAGlBrC,GACAA,EAAK9C,SAAQ8C,KDiCd,SAAqBA,GACxB,IAAIvD,EAAQkF,EAAWjF,MAAKC,GAAWA,EAAQuC,UAAYc,EAAKd,WAChE,GAAIzC,EAAO,CAGP,OAFAK,QAAQC,IAAI,eAnBb,SAAyBiD,EAAMxD,GACtBoF,IAAUlF,MAAKC,GAAWA,EAAQuC,UAAYc,EAAKd,WACzD1C,OAASA,EAkBX8F,CAAgB7F,EAAOuD,EAAKxD,OACpBwD,EAAK3B,OACT,KAAM2B,EAAK3B,MAAQX,EAAU6E,KAEzB,MACJ,SA4CL,SAAwBvC,GACZvF,SAAS8B,cAAc,SAASyD,EAAKd,YAC3C/C,UAAY,iBAAiB6D,EAAKd,aAAac,EAAKd,aAAac,EAAKxD,cA7CnEgG,CAAe/F,GAGvBK,QAAQC,IAAI,qBAAqBN,EAAMD,SAE3C,IAAKC,EAAO,CAER,OADAoF,EAAW7B,EAAKd,SAAUc,EAAKxD,MAAOwD,EAAK3B,OACnC2B,EAAK3B,OACT,KAAM2B,EAAK3B,MAAQX,EAAU6E,KAEzB,MACJ,QACIN,EAAejC,GAGvBlD,QAAQC,IAAI,iCCzDR0F,CAAYzC,MCJjB,SAAS0C,EAAUC,EAAWzD,EAAU1C,GAC3C,IAAIC,EAAQmF,IAAUlF,MAAKC,GAAWA,EAAQuC,UAAYA,IACtD0D,EAAcnI,SAAS8B,cAAc,IAAIoG,KAC7C,OAAIlG,EACIA,EAAMD,MAAQA,GAGdoG,EAAYzG,WAAa,wBAAwB+C,WAAkBzC,EAAMD,SAASA,KAC3EqG,EAAYC,QAEnBrG,EAAMD,OAASA,GACfM,QAAQC,IAAI,2BAEL8F,EAAYE,aAHvB,GAOAjG,QAAQC,IAAI,sBACZ6F,EAAYzG,WAAa,kDAAkD+C,MACpE2D,EAAYC,QAYpB,SAASE,EAAiBL,EAAW5C,EAAUF,EAASD,GAC3D,MAAMiB,EAAcJ,IAAe/D,MAAKC,GAAWA,EAAQgD,KAAKI,UAAYA,IAC5E,IAAI6C,EAAcnI,SAAS8B,cAAcoG,GACzC,OAAK9B,EAIIA,GAAeA,EAAYlB,KAAKE,QAAUA,GAC/C+C,EAAYzG,WAAa,wBAAwByD,cAAqBiB,EAAYlB,KAAKE,WAAWA,KAC3FgD,EAAYC,SAGnBhG,QAAQC,IAAI,cAAc6C,iCAEnBiD,EAAYE,SAVnBH,EAAYzG,WAAa,wBAAwByD,kCAC1CiD,EAAYC,QCnCpB,SAASG,EAAqBC,EAAQC,GACzC,IAEIC,EAAGC,EAFH1D,EAAOwD,EAAUxD,KACjBK,EAAOmD,EAAUnD,KAkBrB,GAhBIL,GACAA,EAAKzC,SAAQyC,IACT,IAAI2D,EAAON,EAAiB,OAAOE,EAAO/H,KAAMwE,EAAKI,SAAUJ,EAAKE,QAASF,EAAKC,UAC9E0D,GAAQT,EAAYC,SACpBM,EAAIE,MAIZtD,GACAA,EAAK9C,SAAQ8C,IACT,IAAIsD,EAAOZ,EAAU,MAAMQ,EAAO/H,KAAM6E,EAAKd,SAAUc,EAAKxD,OACxD8G,GAAQT,EAAYC,SACpBO,EAAIC,MAIZF,GAAKP,EAAYC,QAAUO,GAAKR,EAAYC,OAAQ,CACpD,IAAIS,EAAa9I,SAAS8B,cAAc,OAAO2G,EAAO/H,MACtDgD,EAAQoF,GACRA,EAAWC,UAAUC,IAAI,kBACzB3G,QAAQC,IAAI,GAAGmG,EAAO/H,kBAyBvB,IAAI0H,GACX,SAAWA,GACPA,EAAYA,EAAoB,OAAI,GAAK,SACzCA,EAAYA,EAAoB,OAAI,GAAK,SAF7C,CAKGA,IAAgBA,EAAc,KClE1B,MAAMa,EACT,YAAYzI,EAAGgB,EAAG0H,EAAO3E,GACrB9E,KAAKmF,OAASpE,EACdf,KAAKqG,UAAYtE,EACjB/B,KAAK0J,qBAAuBD,EAC5BzJ,KAAK8F,KAAOhB,EACZ9E,KAAK2J,MAAO,IAAIC,MAAOC,kBCG/B,SAASC,IACL,IAAIA,EAAO,IAAIN,EAAKvG,IAAasD,IAAgB4B,KAA2BT,KAE5E,OADiBqC,KAAKC,UAAUF,GAGpC,SAASG,EAAKC,GACV1D,IACAgB,IACAtE,EAAUgH,EAAc/E,QACN+E,EAAc7D,UNN1BrD,SAAQP,GAAW6D,EAAe7D,KMOxCqF,IACAE,IACAH,EAASqC,EAAcpE,MACvBmC,EAAgBiC,EAAcpE,MAC9BqE,EAAgBD,EAAcR,qBAAsBQ,EAAc/E,QAClE+E,EAAc7D,UAAUrD,SAASP,IACzBA,EAAQgD,KAAKE,QAAU,GACvBiB,EAAenE,EAAQgD,SAG/BnC,EAAY4G,EAAc/E,OAAOjE,YACjCwB,EAAawH,EAAc/E,OAAOhE,UACdZ,SAASsB,eAAe,GAAGqI,EAAc/E,OAAOhE,SAASE,ebwC1E,SAA8BF,GACbZ,SAASsB,eAAe,GAAGV,EAASE,cAC1C+I,SAAU,EaxCpBC,CAAqBH,EAAc/E,OAAOhE,UAI3C,SAASmJ,IACZC,aAAaC,QAAQ,WAAYV,KA8E9B,SAASW,EAAYC,GACxB,IACI9E,EADgBmE,KAAKY,MAAMJ,aAAa9D,QAAQiE,IACpBf,KACZpJ,SAAS8B,cAAc,aAAaqI,KAC1CzI,UAAY2D,ECrHvB,SAASgF,EAAmBnF,EAAMwD,GACrC,IAEIC,EAAGC,EAFH0B,EAAU5B,EAAUxD,KACpBK,EAAOmD,EAAUnD,KAkBrB,GAhBI+E,GACAA,EAAQ7H,SAAQ8H,IACZ,IAAI1B,EAAON,EAAiB,IAAIrD,EAAKI,WAAYiF,EAAajF,SAAUiF,EAAanF,QAASmF,EAAapF,UACvG0D,GAAQT,EAAYC,SACpBM,EAAIE,MAIZtD,GACAA,EAAK9C,SAAQ8C,IACT,IAAIsD,EAAOZ,EAAU/C,EAAKI,SAAUC,EAAKd,SAAUc,EAAKxD,OACpD8G,GAAQT,EAAYC,SACpBO,EAAIC,MAIZF,GAAKP,EAAYC,QAAUO,GAAKR,EAAYC,OAAQ,CACpD,IAAI/B,EAAWtG,SAAS8B,cAAc,IAAIoD,EAAKI,YAC/C5B,EAAQ4C,GACRA,EAASyC,UAAUC,IAAI,gBACvB3G,QAAQC,IAAI,GAAG4C,EAAKI,wBCrB5B,IAAIkF,EACJ,MAAMC,EAAgBzK,SAASsB,eAAe,SACxCoJ,EAAkB1K,SAASsB,eAAe,WAKzC,SAASsI,EAAgB5E,EAAUpB,GACtC,IAAIgB,EAASlC,IACTyD,EAAQxB,EAAaC,GAAQ+F,WAAUzI,GAAWA,EAAQ2C,MAAQG,IAElE4F,EADI,IAAIzH,EAAgBwB,EAAaC,GAAQuB,IAC3B/C,UAElByH,EAAQ,KAIZ,OAHAJ,EAAc/I,UAAY,KAsD1BoJ,EArDwB9F,EAEhBpB,GACJ,IAAK,SACD4G,EAAmBA,EAAmB,IAAMI,EAAc9F,QAC1DiG,EAA0BP,GAC1B,MACJ,QACIO,EAA0B,MAC1BP,EAAmBI,EAAc9F,QACjCiG,EAA0BP,GAIlC,IAAIzF,EAAU6F,EAAc7F,QAC5B2F,EAAgBhE,YAAc,KC3B3B,SAAqB3B,EAAS2F,GACjC,GAAI3F,EAAS,CACT,IAAK,IAAIvD,EAAI,EAAGA,EAAIuD,EAAQ1E,OAAQmB,IAAK,CACrC,IAAIwJ,EAAgBjG,EAAQvD,GACxBiH,EAAS,oDACYuC,EAActK,sBACrCsK,EAAclG,iCAEhB4F,EAAgBhJ,WAAa+G,EACzBuC,EAAcvF,eACdpD,QAAQC,IAAI,YAAY0I,EAActK,qBACtC8H,EAAqBwC,EAAeA,EAAcvF,eAS1D,IAAK,IAAIjE,EAAI,EAAGA,EAAIuD,EAAQ1E,OAAQmB,IAAK,CACrC,IAAIwJ,EAAgBjG,EAAQvD,GACxBwD,EAAWgG,EAAchG,SACzBpB,EAAQmB,EAAQvD,GAAGoC,MACnBkF,EAAa4B,EAAgB5I,cAAc,OAAOkJ,EAActK,MAE/DoI,EAAWC,UAAUkC,SAAS,mBAC/BnC,EAAWnH,iBAAiB,SAAS,WAC7BqJ,EAAc/F,aACd0C,EAAiBqD,EAAc/F,aAcvD,SAA6BiG,GACzB,KAAOA,EAAOC,YACVD,EAAOE,YAAYF,EAAOC,YAJ9BE,CADsBrL,SAAS8B,cAAc,aAR7B8H,EAAgB5E,EAAUpB,GAC1BmG,SDLhBuB,CAAYvG,EAAS2F,GACrBG,EAAQD,EAAc1F,KAClB2F,GEnCD,SAAmBA,EAAOJ,EAAevB,GAE5C,IAAK,IAAI1H,EAAI,EAAGA,EAAIqJ,EAAMxK,OAAQmB,IAAK,CACnC,IAAI+J,EAAcV,EAAMrJ,GACpBQ,EAAQgE,IAAe/D,MAAKC,GAAWA,EAAQgD,KAAKC,UAAYoG,EAAYpG,UAAYjD,EAAQgD,KAAKI,UAAYiG,EAAYjG,WACjI,GAAItD,EAAO,CAEPK,QAAQC,IAAI4G,GACZ,IAAIvC,EAAa3E,EAAM4D,iBAAiB4F,SAAS,GAAGtC,KAEpD,GADA7G,QAAQC,IAAIqE,GACRA,EAAY,CACZ,IAAIxC,EAAU,wCAAwCoH,EAAYjG,2DAA2DiG,EAAYpG,mBACzI9C,QAAQC,IAAI,GAAGiJ,EAAYpG,mDAAmD+D,MAC9EuB,EAAc/I,WAAayC,MAE1B,CACD,IAAIe,EAAO,mDAAmDqG,EAAYjG,wBAAwBiG,EAAYnG,WAAWmG,EAAYpG,mBACrIsF,EAAc/I,WAAawD,EACvBqG,EAAY9F,cACZ4E,EAAmBkB,EAAaA,EAAY9F,mBAInD,CACD,IAAIP,EAAO,iCAAiCqG,EAAYjG,wBAAwBiG,EAAYnG,WAAWmG,EAAYpG,mBACnHsF,EAAc/I,WAAawD,EACvBqG,EAAY9F,cACZ4E,EAAmBkB,EAAaA,EAAY9F,eAKxD,IAASjE,EAAI,EAAGA,EAAIqJ,EAAMxK,OAAQmB,IAAK,CACnC,IAAI+J,EAAcV,EAAMrJ,GACpB8E,EAAWmE,EAAc3I,cAAc,IAAIyJ,EAAYjG,YACvDmG,EAAWnF,EAASyC,UAAUkC,SAAS,UACvCS,EAAcpF,EAASyC,UAAUkC,SAAS,qBAE1CU,EAAcrF,GAAUyC,UAAUkC,SAAS,gBAC3CS,EACApF,EAAS3E,iBAAiB,SAAS,WAC/BuE,EAAQqF,EAAa3D,MACrB,IAAIzD,EAAU,sCAAsCoH,EAAYpG,WAChEmB,EAAS5E,UAAYyC,EACrBmC,EAAS1C,MAAMC,MAAQ,UACvBkG,MACD,CAAE6B,MAAM,IAEND,IAGAF,EACLnF,EAAS1C,MAAMC,MAAQ,UAGvByC,EAAS3E,iBAAiB,SAAS,WAC/BuE,EAAQqF,EAAa3D,MACrBvF,QAAQC,IAAIiJ,EAAYpG,UACxB,IAAIhB,EAAU,sCAAsCoH,EAAYpG,WAChEmB,EAAS5E,UAAYyC,EACrBmC,EAAS1C,MAAMC,MAAQ,UACvBkG,MACD,CAAE6B,MAAM,MF1BfC,CAAUhB,EAAOJ,EAAezF,GAGhChF,SAASsB,eAAe,cACxBF,IACgC,IAA5BwD,EAAOhE,SAASC,YACMb,SAASsB,eAAesD,EAAOhE,SAASE,YAC9C+I,SAAU,GAI9B7J,SAAS8B,cAAc,qBACvB9B,SAAS2B,iBAAiB,SAAS,SAAUhC,GAErCA,EAAEmM,QAAUnM,EAAEmM,OAAOC,QAAQ,qBAC7BlJ,OAShB,SAASkI,EAA0BjG,GACJ9E,SAASsB,eAAe,aAChCI,UAAYoD,EAMnC,IAAIgG,EAAc,QAIX,SAASlD,KACZ,OAAOkD,EGvEJ,SAASkB,KACZ/F,IjBqDAtD,EAzCOlC,GA0CPsC,EAAYtC,EAAcE,YAC1BwB,EAAa1B,EAAcG,UiBrD3BqG,IACAM,IACAE,IVEAH,EALwB,CACpB,CAAE7C,SAAU,UAAW1C,MAAO,GAAI6B,MAAOX,EAAUuC,MACnD,CAAEf,SAAU,WAAY1C,MAAO,EAAG6B,MAAOX,EAAUuC,MACnD,CAAEf,SAAU,eAAgB1C,MAAO,EAAG6B,MAAOX,EAAUuC,QUE3DkC,EAAgBP,KAChByC,EAAgB,SAChBG,ICRJnK,OAAOqM,OAAS,WAEGjC,aAAa9D,QAAQ,YN+BjC,WACH,IAAIyD,EAAgBH,KAAKY,MAAMJ,aAAa9D,QAAQ,aAChDyD,GACAD,EAAKC,GMhCLuC,IAGAtC,EAAgB,SAChBlC,EAAgBP,OAIxB,MAAMgF,GAAYnM,SAAS8B,cAAc,eACrCqK,IACAA,GAAUxK,iBAAiB,QAASkB,GAIxC,MAAM,GAAS7C,SAAS8B,cAAc,eAIlC,IACA,GAAOH,iBAAiB,SAJ5B,SAAiBgC,GACbtB,QAAQC,IAAI,aAMhBlB,IAEmBpB,SAASwC,iBAAiB,SAClCC,SAAQP,IACf,IAAIkK,EAAalK,EAAQmK,aAAa,SACtCnK,EAAQP,iBAAiB,SAAS,WNY/B,IAAiBwI,IMXRiC,ENaa,oBAAd,SACP/J,QAAQC,IAAI,4CAA4C6H,KACxDH,aAAaC,QAAQE,EAAUZ,KAC/BW,EAAYC,IAGZ9H,QAAQC,IAAI,6FMfDtC,SAASwC,iBAAiB,SAClCC,SAAQP,IACf,IAAIkK,EAAalK,EAAQmK,aAAa,SACtCnK,EAAQP,iBAAiB,SAAS,WNgB/B,IAAkBwI,IMfRiC,ENgBY,oBAAd,SACP/J,QAAQC,IAAI,8BAEZoH,EADoBF,KAAKY,MAAMJ,aAAa9D,QAAQiE,MAIpD9H,QAAQC,IAAI,6FMlBOtC,SAASwC,iBAAiB,WAClCC,SAAQP,IACvB,IAAIkK,EAAalK,EAAQmK,aAAa,SACtCnK,EAAQP,iBAAiB,SAAS,YNkB/B,SAA2BwI,GAC9B,IAAIR,EAAgBK,aAAa9D,QAAQiE,GACrCmC,EAActM,SAAS8B,cAAc,kBACzCwK,EAAY5F,YAAc,KAC1B4F,EAAY5K,WAAa,sBAAsByI,2DAE/C,IAAIoC,EAAavM,SAAS8B,cAAc,eACxCyK,EAAWxK,MAAQ,GACnBwK,EAAWxK,MAAQ,GAAGyK,KAAK7C,KAC3B4C,EAAWE,SM1BPC,CAAkBN,SAIJpM,SAAS8B,cAAc,gBAC9BH,iBAAiB,SAAS,YN2BlC,WACH,IAAI2K,EAActM,SAAS8B,cAAc,kBACzCwK,EAAY5F,YAAc,KAC1B4F,EAAY5K,WAAa,oBAAmB,IAAI2H,MAAOC,0EAEvD,IAAIiD,EAAavM,SAAS8B,cAAc,eACxCyK,EAAWxK,MAAQ,GACnBwK,EAAWxK,OAAS,GAAGyK,KAAKjD,OAC5BgD,EAAWE,SMlCXE,MAGkB3M,SAAS8B,cAAc,gBAC9BH,iBAAiB,SAAS,YNoClC,WACH,IAAIiL,EAAW5M,SAAS8B,cAAc,eAAeC,MACrD6K,EAAWC,KAAKD,GAChBvK,QAAQC,IAAIsK,GACZ,IAAIjD,EAAgBH,KAAKY,MAAMwC,GAC/BvK,QAAQC,IAAIqH,GACZD,EAAKC,GACa3J,SAAS8B,cAAc,kBAC7BJ,WAAa,8IAC+BiI,EAAcP,mJM5CtE0D,MAGe9M,SAAS8B,cAAc,gBAC9BH,iBAAiB,SAAS,WAAcqK,QAEpD,IAAK,IAAIxK,EAAI,EAAGA,EAAI,EAAGA,IACfwI,aAAa9D,QAAQ,QAAQ1E,MAC7B0I,EAAY,QAAQ1I,M","file":"bundle.js","sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","/**\r\n * Player's info values. During initial start of the game, these value is used.\r\n * Will be overwritten by player's input during game play.\r\n */\r\nexport const player = {\r\n    id: 0,\r\n    playerName: \"\",\r\n    pronouns: {\r\n        Category: \"\",\r\n        subjectPro: \"\",\r\n        objectPro: \"\",\r\n        possAdj: \"\",\r\n        possessivePro: \"\",\r\n        reflex: \"\",\r\n        is: \"\", //he is, she is, they are\r\n    },\r\n};\r\n/**\r\n * Upon clicking restart, player character will use these default values.\r\n */\r\nexport let defaultPlayer = {\r\n    id: 0,\r\n    playerName: \"\",\r\n    pronouns: {\r\n        Category: \"\",\r\n        subjectPro: \"\",\r\n        objectPro: \"\",\r\n        possAdj: \"\",\r\n        possessivePro: \"\",\r\n        reflex: \"\",\r\n        is: \"\", //he is, she is, they are\r\n    },\r\n};\r\n","import { player } from \"./playerInfo\";\r\n/** List of pronouns. Add, edit or remove accordingly to author's needs.\r\n * To change structure i.e adding more field like title: \"Mr\"... refer to src/model/player.ts\r\n */\r\nexport const pronouns = [\r\n    {\r\n        Category: \"He/Him\",\r\n        subjectPro: \"he\",\r\n        objectPro: \"him\",\r\n        possAdj: \"his\",\r\n        possessivePro: \"his\",\r\n        reflex: \"himself\",\r\n        is: \"he is\",\r\n    },\r\n    {\r\n        Category: \"She/Her\",\r\n        subjectPro: \"she\",\r\n        objectPro: \"her\",\r\n        possAdj: \"her\",\r\n        possessivePro: \"hers\",\r\n        reflex: \"herself\",\r\n        is: \"she is\",\r\n    },\r\n    {\r\n        Category: \"They/Them\",\r\n        subjectPro: \"they\",\r\n        objectPro: \"them\",\r\n        possAdj: \"their\",\r\n        possessivePro: \"theirs\",\r\n        reflex: \"themselves\",\r\n        is: \"they are\",\r\n    }\r\n];\r\n/**\r\n * Show radio group with pronouns option for players to choose from.\r\n * Append radio buttons to HTML element with id = \"pronouns\".\r\n */\r\nexport function showPronounDialogue() {\r\n    let pronounsContainer = document.getElementById(\"pronouns\");\r\n    if (pronounsContainer) {\r\n        let pronounsLength = pronouns.length;\r\n        for (var i = 0; i < pronounsLength; i++) {\r\n            let pronounEntry = `\r\n            <input type=\"radio\" id=\"${pronouns[i].subjectPro}\" name=\"pronouns\" value=\"${pronouns[i].Category}\">\r\n            <label for=\"${pronouns[i].subjectPro}\">${pronouns[i].Category}</label><br>`;\r\n            pronounsContainer.innerHTML += pronounEntry;\r\n        }\r\n        pronounsContainer.addEventListener('click', getPronouns);\r\n    }\r\n}\r\n/**\r\n * Get Pronouns value from clicked radio button\r\n */\r\nexport function getPronouns() {\r\n    var selectedPronoun = document.querySelector('input[name=\"pronouns\"]:checked')?.value;\r\n    var found = pronouns.find(element => element.Category == selectedPronoun);\r\n    if (found) {\r\n        setPronouns(found);\r\n    }\r\n    ;\r\n    console.log(selectedPronoun);\r\n    console.log(player);\r\n}\r\n/**\r\n * Save player's selected pronoun\r\n * @param pronouns\r\n */\r\nexport function setPronouns(pronouns) {\r\n    player.pronouns = pronouns;\r\n    showPronouns(pronouns);\r\n}\r\nexport function loadPronounsRadioBtn(pronouns) {\r\n    let savedPronouns = document.getElementById(`${pronouns.subjectPro}`);\r\n    savedPronouns.checked = true;\r\n}\r\n/**\r\n * Show player's pronouns on all element with class = \"playerPronouns\"\r\n */\r\nexport function showPronouns(pronouns) {\r\n    let pronounsClassed = document.querySelectorAll(\".playerPronouns\");\r\n    if (pronounsClassed) {\r\n        pronounsClassed.forEach(element => element.innerHTML = `${pronouns.Category}`);\r\n    }\r\n}\r\n","import { defaultPlayer } from \"../../game/playerInfo\";\r\nimport { showPronouns } from \"./pronouns\";\r\nexport const player = {\r\n    id: 0,\r\n    playerName: \"\",\r\n    pronouns: {\r\n        Category: \"\",\r\n        subjectPro: \"\",\r\n        objectPro: \"\",\r\n        possAdj: \"\",\r\n        possessivePro: \"\",\r\n        reflex: \"\",\r\n        is: \"\", //he is, she is, they are\r\n    },\r\n};\r\nexport function getPlayer() {\r\n    return player;\r\n}\r\nexport function getDefaultPlayer() {\r\n    return defaultPlayer;\r\n}\r\n/**\r\n * Get pronouns set by the player.\r\n * @returns player's pronouns\r\n */\r\nexport function getPlayerPronouns() {\r\n    return getPlayer().pronouns;\r\n}\r\nexport function setPlayer(newPlayer) {\r\n    player.id = newPlayer.id;\r\n    player.playerName = newPlayer.playerName;\r\n    player.pronouns = newPlayer.pronouns;\r\n}\r\nexport function setName(inputName) {\r\n    player.playerName = inputName;\r\n}\r\n/**\r\n * Get player's name from HTML input element id = 'playerName'\r\n */\r\nexport function getName() {\r\n    var playerName = document.getElementById(\"playerName\").value;\r\n    console.log(`Player Name is: ${playerName}`);\r\n    setName(playerName);\r\n    showNameDiv(playerName);\r\n    console.log(player);\r\n}\r\n/**\r\n * Show player's name in a any element where class = \"yourName\"\r\n * @param playerName\r\n */\r\nexport function showNameDiv(playerName) {\r\n    const container = document.querySelectorAll(\".yourName\");\r\n    if (container) {\r\n        container.forEach(element => {\r\n            element.innerHTML = `${playerName} `;\r\n        });\r\n    }\r\n}\r\n/**Reset player information to initial value. */\r\nexport function resetPlayer() {\r\n    setPlayer(getDefaultPlayer());\r\n    showNameDiv(defaultPlayer.playerName);\r\n    showPronouns(defaultPlayer.pronouns);\r\n}\r\n",";\r\nexport var conStyle;\r\n(function (conStyle) {\r\n    conStyle[conStyle[\"show\"] = 0] = \"show\";\r\n    conStyle[conStyle[\"hidden\"] = 1] = \"hidden\";\r\n    conStyle[conStyle[\"hideReason\"] = 2] = \"hideReason\";\r\n})(conStyle || (conStyle = {}));\r\n;\r\n//TODO: implement show/hide/hideReason on Precondition. \r\n//Currently, precondition checks on default will always show reason why a choice cannot be clicked by default \r\n// const precondition: Precondition = {\r\n//     stat: [{\r\n//         statName: \"intellect\",\r\n//         value: 1\r\n//     }],\r\n//     item: [{\r\n//         itemName: \"key\",\r\n//         itemQty: 1,\r\n//         itemCode: \"key\"\r\n//     }]\r\n// }\r\nexport class singleParagraph {\r\n    constructor(p) {\r\n        this.paragraph = p;\r\n    }\r\n}\r\n","//stat can be used in precondition\r\nexport class Stat {\r\n    constructor(s, v) {\r\n        this.statName = s;\r\n        this.value = v;\r\n    }\r\n}\r\nexport var statStyle;\r\n(function (statStyle) {\r\n    statStyle[statStyle[\"hide\"] = 0] = \"hide\";\r\n    statStyle[statStyle[\"show\"] = 1] = \"show\";\r\n})(statStyle || (statStyle = {}));\r\n/**\r\n * Extends Stat, but has style.\r\n * Style property show or hide the Stat from view.\r\n */\r\nexport class statWithStyle extends Stat {\r\n    constructor(s, v, style) {\r\n        super(s, v);\r\n        this.style = style;\r\n    }\r\n}\r\n//stat style: hidden, default: show.\r\n//hidden stat use case: stat and value that author does not want to show player\r\n//like a variable that dictate which ending the player will receive (bad/good ending counter)\r\n","import { getPlayerPronouns } from \"../core/player/playerInfo\";\r\n/////////////////////////////Formatting tools////////////////////////////////////////\r\n/**\r\n *Capitalise the first letter in a string.\r\n */\r\nexport function capitalise(word) {\r\n    if (!word)\r\n        return word;\r\n    return word[0].toUpperCase() + word.substr(1).toLowerCase();\r\n}\r\n////////////////////////////////////////////////////////////////////////////////////\r\n/**Grey out text */\r\nexport function greyOut(thing) {\r\n    thing.style.color = \"#6A6C6E\";\r\n}\r\n////////////////////////Grammar tools//////////////////////////////////////////\r\n/**\r\n * Specify the verb form that goes with a set of pronouns.\r\n * Ex: (have) => She [has] a pen / They [have] a pen\r\n * @param form verb form that goes with 'she/he'\r\n * @param original base verb, usually goes with 'they/you/we'\r\n * @returns form or original, depends on the player's selected pronouns.\r\n */\r\nexport function verbForm(form, original) {\r\n    let pronoun = getPlayerPronouns();\r\n    if (pronoun.subjectPro == \"they\") {\r\n        return original;\r\n    }\r\n    else\r\n        return form;\r\n}\r\n//TODO: showOnCondition shows the string if the condition check has passed.\r\nexport function showOnCondition(type, requiredElement, value, message, failedMessage) {\r\n    switch (type) {\r\n        case (type = 'stat'):\r\n            //a = check in player's stat\r\n            //if a = checkResult.passed\r\n            return requiredElement;\r\n        case (type = 'item'):\r\n            //a = check in player's inventory\r\n            //if a = checkResult.passed\r\n            return requiredElement;\r\n        case (type = 'quest'):\r\n            //a = check in player's quest log\r\n            //if a = checkResult.passed\r\n            return requiredElement;\r\n        case (type = 'variable'):\r\n            //a = check in player's variables\r\n            //if a = checkResult.passed\r\n            return requiredElement;\r\n    }\r\n}\r\nshowOnCondition('stat', `athletic`, 12, `You could try to pry it open with your crowbar`, `There's nothing else you can do here<br>`);\r\n","import { capitalise, verbForm } from \"../tools/formatting\";\r\nimport { statStyle } from \"../core/model/Stat\";\r\nimport catImg from \"../../assets/images/cat.jpg\";\r\n/**\r\n * Entry point. Contains all game content.\r\n * @param player\r\n * @returns paragraphs\r\n */\r\nexport function getParagraph(player) {\r\n    let paragraphs = [\r\n        {\r\n            name: \"\",\r\n            content: ``,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: ``,\r\n                    nextName: ``\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"start\",\r\n            content: `<p> You are but a <b>simple knight</b>, stationed at a remote village.\r\n        Life was peaceful, until a day. </p>\r\n        <p>The crops just won't grow.</p>\r\n        <p>The villagers looked for someone to blame. And so they found.\r\n        The witches <i>must</i> be the one who befall this ill fate on them. Even though they've lived in peace due to a pact with the villagers elders 100 years ago, villagers still hold a certain degree of distrust towards the witches.</p>\r\n        <p> Even though the witches' medicine has saved some children and elders from time to time. </p>\r\n        <p>\r\n        And so, they tasked you to go, and confront the village's witches.</p>\r\n        <p>Every knight may look the same with that armour, but everyone has a name. And yours is...<br>\r\n        <input id=\"playerName\" type=\"text\" placeholder=\"Enter your name here!\" aria-label=\"playerName\" value=\"${player?.playerName}\">\r\n        </p>\r\n        <p>\r\n        <div id=\"pronouns\">And your preferred pronouns are...<br></div></p>\r\n        <p>Now that you've got that settled, ...</p>\r\n        `,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `With your trusty old sword in hand and armour oiled, you set out to find the witches' lair`,\r\n                    nextName: `walking`,\r\n                    consequence: {\r\n                        item: [\r\n                            {\r\n                                itemName: `Old sword`,\r\n                                itemQty: 1,\r\n                                description: `Your old and trusty sword.`,\r\n                                itemCode: `old-sword`,\r\n                            },\r\n                        ]\r\n                    }\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"walking\",\r\n            content: `<p>And you go, into the forest.</p>\r\n        <p>You start to think about yourself. Say, what's your best quality?</p>`,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `Your intelligence, of course. You've learned a lot.`,\r\n                    nextName: `out`,\r\n                    consequence: {\r\n                        stat: [\r\n                            { statName: `Intelligence`, value: 10, style: statStyle.show },\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    id: 2,\r\n                    content: `Your strength, of course. You're a skilled, strong knight.`,\r\n                    nextName: `out`,\r\n                    consequence: {\r\n                        stat: [\r\n                            { statName: `Strength`, value: 10, style: statStyle.show },\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    id: 3,\r\n                    content: `Jack of all trades, but master of none. You're equally good at both thinking and punching, but excel in neither.`,\r\n                    nextName: `out`,\r\n                    consequence: {\r\n                        stat: [\r\n                            { statName: `Intelligence`, value: 5, style: statStyle.show },\r\n                            { statName: `Strength`, value: 5, style: statStyle.show },\r\n                        ]\r\n                    }\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"out\",\r\n            content: `<p>You kept walking. Far into the forest near the village, you found a small hut.\r\n        Outside, meat are hung up to be sun-dried.</p>\r\n        <p>\r\n        This must be the witches' lair. There should be three of them.</p>\r\n        <p>You knock on the door.</p>\r\n        `,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `<b>Knock</b> knock`,\r\n                    nextName: `witches-lair`\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"witches-lair\",\r\n            content: `<p>The door opens by itself.</p>\r\n        <p>In front of you, three witches stand.</p>\r\n        <p>\"<b>${player?.playerName}</b>. If you could spare a minute to hear what we have to say\" - the tallest of the three said.</p>\r\n        <p>\"There's a wicked dragon up this mountain. It's the one that cursed our village. For each who dies of starvation, the dragons gains in strength.\" - the cloaked one said.</p>\r\n        <p>\"We know that the villagers have sent you out to deal with us, and we beg of you, we're telling the truth. </p>\r\n        <p>\r\n        They will be heading our way soon. We must escape.\" - the shortest one looks at you pleadingly.</p>\r\n\r\n        <p>What will you do?</p>\r\n        `,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `They're lying for sure. Never should've trusted the witches.`,\r\n                    nextName: `deliver-justice`\r\n                },\r\n                {\r\n                    id: 2,\r\n                    content: `You believe them. They'll have to get out of here fast.`,\r\n                    nextName: `hiding`\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"hiding\",\r\n            content: `<p>Before you can do anything to help the witches escape, loud noises are at the door.</p>\r\n        <p><i>\"Wretched witches! Heal! Our! Land!\"</i></p>\r\n        <p> No doubt this is an angry mob. The sound is getting closer and closer.</p>\r\n        `,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `[Intelligence] Think of a clever way to convince them that the witches are long gone.`,\r\n                    nextName: `lie-success`,\r\n                    precondition: {\r\n                        stat: [\r\n                            { statName: `Intelligence`, value: 1, },\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    id: 2,\r\n                    content: `Scramble and try to convince them that the witches have just escaped.`,\r\n                    nextName: `lie-failed`,\r\n                    consequence: {\r\n                        stat: [\r\n                            { statName: `Village`, value: -9, style: statStyle.show },\r\n                        ],\r\n                    }\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"lie-failed\",\r\n            content: `\r\n        <p>The witches shrink themselves. You pick them up and hide them inside a soup pot. Just in time, the door burst open. It's the village's youths who's decided to confront the witches themselves.</p>\r\n        <p>You tried your best to made up a convincing story. However not all of them seems to be convinced by it. Some thinks you're covering the witches, others think that you are just an incapable knight who had failed to capture the witches.\r\n        </p>\r\n        <p>For your failure, the villagers had decided to exile you. Only when the curse is lifted are you able to return.</p>\r\n        <p>And so you stayed behind in the witches' hut.</p>\r\n        `,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `You make sure that the villagers are gone, and talk to the witches about the dragon.`,\r\n                    nextName: `witches-talk`\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"lie-success\",\r\n            content: `\r\n        <p>The witches shrink themselves. You pick them up and hide them inside a soup pot. Just in time, the door burst open. It's the village's youths who's decided to confront the witches themselves.</p>\r\n        <p>You make up a rather convincing story of how no one's home when you arrived. And so you stayed in the hut to see if they would come back. You lit the fireplace because it was getting cold. And it really was. </p>\r\n        <p>The villagers believed you. After all, there's no reason for them not to. You're their trusted knight after all.</p>\r\n        <p>And you continue to stay behind <i>\"to see if the witches would return\"</i>.\r\n        </p>`,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `You wait for them to leave, and talk to the witches about the dragon.`,\r\n                    nextName: `witches-talk`\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"witches-talk\",\r\n            content: `<p>You open the lid and the witches quickly enlarge back to their original size.</p>\r\n        <p>\"The dragon should be up  that mountain, in case you've forgotten. Here, this is for you.\" the cloaked witch reaches into her cloak and pull out a sword. She puts it on the table.</p>\r\n        <p>A magical sword. It teems with power. No doubt you could take down the dragon with it.</p>\r\n        <p>You were so engrossed with admiring the sword that you didn't realise the witches are gone.</p>`,\r\n            item: [\r\n                {\r\n                    itemName: `Magic Sword`,\r\n                    itemQty: 1,\r\n                    description: `A magical sword that has strong powers within.`,\r\n                    itemCode: `magic-sword`,\r\n                },\r\n            ],\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `Time to find the dragon.`,\r\n                    nextName: `dragon-tower`\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"deliver-justice\",\r\n            content: `<p>They are no match for a seasoned knight like you. One by one, they fell.</p>\r\n        <p>Shortly after, you heard noises that could only be of an angry mob.</p> \"Wretched witches! Heal our land!\" they said.`,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `You open the door.`,\r\n                    nextName: `justice-open-door`\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"justice-open-door\",\r\n            content: `<p>The witches are dead! Therefore it's a good cause for celebration!</p>\r\n        <p> The villagers cheers and celebrated with all of the little food they have left. The curse has ended! The crops shall grow again. Soon.</p>\r\n        <p>But reality is often disappointing.</p>\r\n        <p>Nothing blooms, nothing grew. Once again, despair covers the whole village. </p>\r\n        <p>Maybe the witches were right.</p>\r\n        <p>You set out quietly to the forrest and up the mountain.</p>\r\n        `,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `The dragon shall pay`,\r\n                    nextName: `dragon-tower`\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"dragon-tower\",\r\n            content: `<p>You climb up the foggy mountains for what feels like hours. At the top, the fog clears.</p>\r\n        <p>A huge tower that seems to stretch impossibly up even high. It's hard to miss, but you've never seen it from the village. Foul magic might be at play, concealing the tower.</p>\r\n        \r\n        <p>A dragon swoop down. It regards you with toothy smile and a sinister look in its eye.</p>\r\n        <p>There's only one thing to do</p>\r\n        `,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `Use your trusty old sword and slay the beast`,\r\n                    nextName: `failure`\r\n                },\r\n                {\r\n                    id: 2,\r\n                    content: `Use the Magic Sword and slay the beast.`,\r\n                    nextName: `success`,\r\n                    precondition: {\r\n                        item: [\r\n                            {\r\n                                itemName: `Magic Sword`,\r\n                                itemQty: 1,\r\n                                itemCode: `magic-sword`,\r\n                            },\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    id: 3,\r\n                    content: `Use your great strength to land a strong attack on the dragon.`,\r\n                    nextName: `success`,\r\n                    precondition: {\r\n                        stat: [\r\n                            { statName: `Strength`, value: 10 },\r\n                        ],\r\n                    }\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"success\",\r\n            content: `<img src=\"${catImg}\">\r\n        <p>You did it! You killed the dragon.</p>\r\n        <p>\r\n        You are excited to go back home. The curse should be lifted!\r\n        </p>`,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `Climb down and go home`,\r\n                    nextName: `go-home`\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"go-home\",\r\n            content: `<p>It takes several days to descend the mountain and walk back to the village.</p>\r\n        <p>You wonder what's waiting for you back home.</p>\r\n        <p></p>`,\r\n            choices: [\r\n                {\r\n                    id: 1,\r\n                    content: `You confidently walk into the village square.`,\r\n                    nextName: `home`,\r\n                    precondition: {\r\n                        stat: [{ statName: `Village`, value: 10, },],\r\n                    },\r\n                },\r\n                {\r\n                    id: 2,\r\n                    content: `You anxiously walk into the village square.`,\r\n                    nextName: `home-redeemed`,\r\n                    precondition: {\r\n                        stat: [{ statName: `Village`, value: 1, },],\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"home\",\r\n            content: `<p>Alas, you are home. </p>\r\n        <p>\"<b>${player?.playerName}</b>! There <b>${player?.pronouns.is}</b>! <b>${capitalise(player?.pronouns.is)}</b> our hero! ${capitalise(player?.pronouns.subjectPro)} ${verbForm('was', 'were')} the one who lifted the curse!\"</p>\r\n        <p>You are relieved. It seems that you have succeeded after all.</p>\r\n        <p><b>The End</b></p>`,\r\n        },\r\n        {\r\n            name: \"failure\",\r\n            content: `<p>But unfortunately, your efforts against the dragon was in vain. It's too powerful for you and your good ol' sword.</p>\r\n        <p>Your vision fade to darkness.</p>\r\n        <p><b>The End</b></p>`,\r\n        },\r\n        {\r\n            name: \"home-redeemed\",\r\n            content: `<p>Alas, you are home. </p>\r\n        <p>\"<b>${player?.playerName}</b>! There <b>${player?.pronouns.is}</b>! <b>${capitalise(player?.pronouns.is)}</b> our hero! ${capitalise(player?.pronouns.subjectPro)} ${verbForm('was', 'were')} the one who lifted the curse!\"</p>\r\n        <p>You are relieved. It seems that you have succeeded after all.</p>\r\n        <p>You are welcomed back into the village with open arms.</p>\r\n        <p><b>The End</b></p>`,\r\n        },\r\n    ];\r\n    return paragraphs;\r\n}\r\n","//each itemCode must be unique\r\n//Don't use special characters in itemCode. There will be consequences (bug).\r\n/**\r\n * When player pick up and Item and put it into their inventory,\r\n * It'll turn into InventoryItem, which saves the item's info and\r\n * where it was picked up (its location - paragraph id)\r\n */\r\nexport class inventoryItem {\r\n    constructor(i, p) {\r\n        // pickedUpLocation: Array<Paragraphs[\"id\"]> = [];\r\n        this.pickedUpLocation = [];\r\n        this.item = i;\r\n        this.pickedUpLocation.push(p);\r\n    }\r\n}\r\n// type itemCondition = Omit<Items, 'description'>\r\n//NOTE for authors: Please refrain from  changing Paragraph's name as this would affect\r\n//pickedUpLocation and other paragraph's dependency\r\n","import { inventoryItem } from \"../model/item\";\r\nimport { capitalise } from \"../../tools/formatting\";\r\nexport let inventory = [];\r\nfunction addToInventory(item) {\r\n    inventory.push(item);\r\n}\r\n/**\r\n * Transfer items form an array of items to the inventory one by one.\r\n * Use case: load inventory from save file && add a bulk of item from treasure chest to inventory\r\n * @param items Array of itemss\r\n */\r\nexport function loadBulkInventory(items) {\r\n    items.forEach(element => addToInventory(element));\r\n}\r\nexport function getInventory() {\r\n    return inventory;\r\n}\r\nexport function clearInventory() {\r\n    inventory.length = 0;\r\n    return inventory;\r\n}\r\nexport function getItem(item, pName) {\r\n    const inInventory = inventory.find(element => element.item.itemCode == item.itemCode);\r\n    if (!inInventory) {\r\n        let newItem = new inventoryItem(item, pName);\r\n        console.log(`${item.itemName} has been added to inventory`);\r\n        addToInventory(newItem);\r\n        console.log(inventory);\r\n        appendItemHTML(item);\r\n    }\r\n    else if (inInventory && inInventory.item.itemQty == 0) {\r\n        inInventory.item.itemQty += item.itemQty;\r\n        console.log(`${item.itemName} is already in the inventory. Adding 1 to quantity.`);\r\n        console.log(inventory);\r\n        appendItemHTML(inInventory.item);\r\n    }\r\n    else {\r\n        inInventory.item.itemQty += item.itemQty;\r\n        //when itemQty = 0, remove it from view.\r\n        if (inInventory.item.itemQty == 0) {\r\n            removeItemHTML(inInventory.item.itemCode);\r\n        }\r\n        else {\r\n            console.log(`${item.itemName} is already in the inventory. Adding 1 to quantity.`);\r\n            console.log(inventory);\r\n            //update item quantity on view\r\n            let quantityDiv = document.querySelector(`#${item.itemCode}-quantity`);\r\n            quantityDiv.textContent = `Quantity: ${inInventory.item.itemQty}`;\r\n            let pNameCheck = inInventory.pickedUpLocation.find(location => location == pName);\r\n            console.log(pNameCheck, pName);\r\n            if (!pNameCheck) {\r\n                inInventory.pickedUpLocation.push(pName);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**Remove a certain number of item in inventory.\r\n * When it reaches 0, remove item from view, but still keep it in inventory array.\r\n */\r\nexport function deleteItem(item, quantity) {\r\n    let toBeDeleted = getInventory().find(element => element.item.itemName == item.itemName && element.item.itemCode == item.itemCode);\r\n    toBeDeleted.item.itemQty -= quantity;\r\n    if (toBeDeleted.item.itemQty == 0) {\r\n        removeItemHTML(item.itemCode);\r\n    }\r\n}\r\n/**\r\n * Remove item from view.\r\n */\r\nexport function removeItemHTML(itemCode) {\r\n    let itemHTML = document.querySelector(`#pills-${itemCode}-tab`);\r\n    let itemDescriptionHTML = document.querySelector(`#pills-${itemCode}`);\r\n    itemHTML.remove();\r\n    itemDescriptionHTML.remove();\r\n}\r\n/**\r\n * After picking up an item, the item's name and description will be viewable on Inventory's UI\r\n * @param item\r\n */\r\nexport function appendItemHTML(item) {\r\n    let inventoryTab = document.querySelector(\"#inventory-tab\"); //(Bootstrap's tab pills)\r\n    let inventoryTabContent = document.querySelector(\"#inventory-tabContent\"); //(Bootstrap's tab-pane)\r\n    let tab = `<li class=\"nav-item\" role=\"presentation\">\r\n        <a class=\"nav-link\" \r\n        id=\"pills-${item.itemCode}-tab\" \r\n        data-bs-toggle=\"pill\" \r\n        href=\"#pills-${item.itemCode}\" \r\n        role=\"tab\" \r\n        aria-controls=\"pills-${item.itemCode}\" aria-selected=\"false\">${capitalise(item.itemName)}</a>\r\n        </li>`;\r\n    inventoryTab.innerHTML += tab;\r\n    let tabContent = `<div class=\"tab-pane fade\" \r\n    id=\"pills-${item.itemCode}\" \r\n    role=\"tabpanel\" \r\n    aria-labelledby=\"pills-${item.itemCode}-tab\">\r\n    ${item.description}\r\n    <div id=\"${item.itemCode}-quantity\">Quantity: ${item.itemQty}</div>\r\n    </div>`;\r\n    inventoryTabContent.innerHTML += tabContent;\r\n}\r\n/**\r\n * Clear all item from Inventory interface\r\n */\r\nexport function clearInventoryHTML() {\r\n    let inventoryTab = document.querySelector(\"#inventory-tab\");\r\n    let inventoryTabContent = document.querySelector(\"#inventory-tabContent\");\r\n    inventoryTab.textContent = '';\r\n    inventoryTabContent.textContent = '';\r\n}\r\n","import { statStyle, statWithStyle } from \"../model/Stat\";\r\n//Place the initial value of your player's Stat here, if you want to.\r\nexport let playerStat = [\r\n    { statName: \"Village Relationship\", value: 10, style: statStyle.show },\r\n    { statName: \"Strength\", value: 0, style: statStyle.show },\r\n    { statName: 'Intelligence', value: 0, style: statStyle.show }\r\n];\r\nexport function restoreDefaultStat() {\r\n    let defaultPlayerStat = [\r\n        { statName: \"Village\", value: 10, style: statStyle.show },\r\n        { statName: \"Strength\", value: 0, style: statStyle.show },\r\n        { statName: 'Intelligence', value: 0, style: statStyle.show }\r\n    ];\r\n    loadStat(defaultPlayerStat);\r\n}\r\nexport function getStat() {\r\n    return playerStat;\r\n}\r\n/**\r\n * Add new Stat to playerStat\r\n * @param statName\r\n * @param value\r\n */\r\nexport function addNewStat(statName, value, style) {\r\n    let newStat = new statWithStyle(statName, value, style);\r\n    getStat().push(newStat);\r\n}\r\n/** Add or subtract point from a stat\r\n * Note that the stat must exist before trying to modify it.\r\n*/\r\nexport function modifyStatValue(stat, value) {\r\n    let _stat = getStat().find(element => element.statName == stat.statName);\r\n    _stat.value += value;\r\n}\r\n/** Load Stats from an Array */\r\nexport function loadStat(stat) {\r\n    stat.forEach(element => addNewStat(element.statName, element.value, element.style));\r\n}\r\nexport function clearAllStat() {\r\n    getStat().length = 0;\r\n    return playerStat;\r\n}\r\nexport function deleteStat(statName) {\r\n    getStat().find(element => element.statName == statName);\r\n}\r\n//if stat already exist, add modify value, if not in playerStat, add to it.\r\nexport function handleStats(stat) {\r\n    let found = playerStat.find(element => element.statName == stat.statName);\r\n    if (found) {\r\n        console.log(`it is found`);\r\n        modifyStatValue(found, stat.value);\r\n        switch (stat.style) {\r\n            case (stat.style = statStyle.hide):\r\n                // do nothing :)\r\n                break;\r\n            default:\r\n                updateStatHTML(found);\r\n                break;\r\n        }\r\n        console.log(`Handled! modified ${found.value}`);\r\n    }\r\n    if (!found) {\r\n        addNewStat(stat.statName, stat.value, stat.style);\r\n        switch (stat.style) {\r\n            case (stat.style = statStyle.hide):\r\n                // do nothing :)\r\n                break;\r\n            default:\r\n                appendStatHTML(stat);\r\n                break;\r\n        }\r\n        console.log(`not found, so added new stat`);\r\n    }\r\n}\r\nexport function appendStatHTML(stat) {\r\n    let statContainer = document.querySelectorAll(`.stat`);\r\n    statContainer.forEach(element => {\r\n        element.innerHTML += `<div id='stat-${stat.statName}'>${stat.statName}: ${stat.value}</div>`;\r\n    });\r\n    // statContainer!.innerHTML += `<div id='stat-${stat.statName}'>${stat.statName}: ${stat.value}</div>`;\r\n}\r\nexport function clearStatHTML() {\r\n    let statContainer = document.querySelector(`.stat`);\r\n    statContainer.textContent = ``;\r\n}\r\n/** Show all Stat on the UI.\r\n * Use case: run when load game.\r\n */\r\nexport function showAllStatHTML(stat) {\r\n    stat.forEach(element => {\r\n        switch (element.style) {\r\n            case (element.style = statStyle.show):\r\n                appendStatHTML(element);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    });\r\n}\r\nexport function updateStatHTML(stat) {\r\n    let statHTML = document.querySelector(`#stat-${stat.statName}`);\r\n    statHTML.innerHTML = `<div id='stat-${stat.statName}'>${stat.statName}: ${stat.value}</div>`;\r\n}\r\n//TODO: updateStatHTML: separate statName, stat value into two different HTML elements, preferably a table\r\n","import { getItem } from \"../inventory/inventory\";\r\nimport { getCurrentParagraphName } from \"../paragraphs/paragraphFunctions\";\r\nimport { handleStats } from \"../player/statInfos\";\r\n//Consequence: After a choice, player gain/loose item or stat point, or both.\r\nexport function applyConsequence(consequence) {\r\n    let item = consequence.item;\r\n    let stat = consequence.stat;\r\n    if (item) {\r\n        item.forEach(item => {\r\n            getItem(item, getCurrentParagraphName());\r\n        });\r\n    }\r\n    if (stat) {\r\n        stat.forEach(stat => {\r\n            handleStats(stat);\r\n        });\r\n    }\r\n}\r\n","import { getInventory } from \"../inventory/inventory\";\r\nimport { getStat } from \"../player/statInfos\";\r\nimport { checkResult } from \"./choiceCondition\";\r\n/**\r\n * Check if player's stat satisfy precondition\r\n * @param elementId HTML element's id\r\n * @param statName required stat's name\r\n * @param value required value\r\n * @returns enum checkResult passed or failed.\r\n */\r\nexport function checkStat(elementId, statName, value) {\r\n    let found = getStat().find(element => element.statName == statName);\r\n    let elementHTML = document.querySelector(`#${elementId}`);\r\n    if (found) {\r\n        if (found.value < value) {\r\n            // console.log(`Condition not met: ${found.value} < ${value}`);\r\n            //show reason why it's failed\r\n            elementHTML.innerHTML += ` [Condition not met: ${statName} value ${found.value}/${value}]`;\r\n            return checkResult.failed;\r\n        }\r\n        if (found.value >= value) {\r\n            console.log(\"Condition met. Proceed.\");\r\n            //let the player click on the choice\r\n            return checkResult.passed;\r\n        }\r\n    }\r\n    else {\r\n        console.log(\"Condition not met!\");\r\n        elementHTML.innerHTML += ` [Condition not met: player doesn't have stat \"${statName}\"]`;\r\n        return checkResult.failed;\r\n    }\r\n}\r\n;\r\n/**\r\n * Check if required item is in player's inventory\r\n * @param choiceId\r\n * @param itemCode\r\n * @param itemName\r\n * @param itemQty\r\n * @returns checkResult passed or failed\r\n */\r\nexport function checkInInventory(elementId, itemCode, itemQty, itemName) {\r\n    const inInventory = getInventory().find(element => element.item.itemCode == itemCode);\r\n    let elementHTML = document.querySelector(elementId);\r\n    if (!inInventory) {\r\n        elementHTML.innerHTML += ` [Condition not met: ${itemName} cannot be found in inventory]`;\r\n        return checkResult.failed;\r\n    }\r\n    else if (inInventory && inInventory.item.itemQty < itemQty) {\r\n        elementHTML.innerHTML += ` [Condition not met: ${itemName} quantity ${inInventory.item.itemQty}/${itemQty}]`;\r\n        return checkResult.failed;\r\n    }\r\n    else {\r\n        console.log(`Condition: ${itemName} found in inventory! Proceed`);\r\n        //let the player click on the choice\r\n        return checkResult.passed;\r\n    }\r\n}\r\n","//Check if player's stat meet the need to proceed.\r\n//For example, the choice \"Climb the tree [Athletic 10]\" needs Athletic = 10\r\nimport { greyOut } from \"../../tools/formatting\";\r\nimport { checkInInventory, checkStat } from \"./checkConditions\";\r\n//before this, check if choice has precondition.\r\n//if there's no condition on a choice, skip this function entirely.\r\n/**\r\n * Check all precondition of a single choice.\r\n * @param choice\r\n * @param condition\r\n */\r\nexport function checkChoiceCondition(choice, condition) {\r\n    let item = condition.item;\r\n    let stat = condition.stat;\r\n    let a, b;\r\n    if (item) {\r\n        item.forEach(item => {\r\n            let temp = checkInInventory(`#cid${choice.id}`, item.itemCode, item.itemQty, item.itemName);\r\n            if (temp == checkResult.failed) {\r\n                a = temp;\r\n            }\r\n        });\r\n    }\r\n    if (stat) {\r\n        stat.forEach(stat => {\r\n            let temp = checkStat(`cid${choice.id}`, stat.statName, stat.value);\r\n            if (temp == checkResult.failed) {\r\n                b = temp;\r\n            }\r\n        });\r\n    }\r\n    if (a == checkResult.failed || b == checkResult.failed) {\r\n        let choiceHTML = document.querySelector(`#cid${choice.id}`);\r\n        greyOut(choiceHTML);\r\n        choiceHTML.classList.add(\"choice-blocked\");\r\n        console.log(`${choice.id} is blocked`);\r\n    }\r\n}\r\n/**Show/hide/ */\r\n// function handleConditionHTML(choiceId: Choices['id'], message: string, style: conStyle | undefined) {\r\n//     switch (style) {\r\n//         case (0): //show    \r\n//             let choiceHTML = document.querySelector(`#cid${choiceId}`);\r\n//             // greyOut((<HTMLElement>choiceHTML));\r\n//             choiceHTML!.innerHTML += message;\r\n//             // choiceHTML!.classList.add(\"choice-blocked\");\r\n//             break;\r\n//         case (1): //hidden - hide the entire choice\r\n//             choiceHTML = document.querySelector(`#cid${choiceId}`);\r\n//             choiceHTML!.innerHTML = ``\r\n//             break;\r\n//         case (2): //hide reason\r\n//             // choiceHTML = document.querySelector(`#cid${choiceId}`);\r\n//             // greyOut((<HTMLElement>choiceHTML));\r\n//             // choiceHTML!.classList.add(\"choice-blocked\");\r\n//             break;\r\n//         default: //do nothing, leave it alone.\r\n//             break;\r\n//     }\r\n// }\r\nexport var checkResult;\r\n(function (checkResult) {\r\n    checkResult[checkResult[\"passed\"] = 0] = \"passed\";\r\n    checkResult[checkResult[\"failed\"] = 1] = \"failed\";\r\n    // notFound = 2,\r\n    // insufficientQuantity = 3,\r\n})(checkResult || (checkResult = {}));\r\n","export class Save {\r\n    constructor(p, i, pname, s) {\r\n        this.player = p;\r\n        this.inventory = i;\r\n        this.currentParagraphName = pname;\r\n        this.stat = s;\r\n        this.date = new Date().toLocaleString();\r\n    }\r\n}\r\n// let save1 = new Save(getPlayer(), inventory, getParagraph.id)\r\n// new save -> stringify save -> push into local storage\r\n// load: get from local storage or save string -> json parse -> put data back\r\n","import { appendItemHTML, clearInventory, clearInventoryHTML, getInventory, loadBulkInventory } from \"../inventory/inventory\";\r\nimport { clearAllStat, clearStatHTML, getStat, loadStat, showAllStatHTML } from \"../player/statInfos\";\r\nimport { Save } from \"../model/save\";\r\nimport { getCurrentParagraphName, updateParagraph } from \"../paragraphs/paragraphFunctions\";\r\nimport { getPlayer, setPlayer, showNameDiv } from \"../player/playerInfo\";\r\nimport { loadPronounsRadioBtn, showPronouns } from \"../player/pronouns\";\r\n/**\r\n * Create a new save and stringify it.\r\n */\r\nfunction save() {\r\n    let save = new Save(getPlayer(), getInventory(), getCurrentParagraphName(), getStat());\r\n    let stringSave = JSON.stringify(save);\r\n    return stringSave;\r\n}\r\nfunction load(retrievedSave) {\r\n    clearInventory();\r\n    clearInventoryHTML();\r\n    setPlayer(retrievedSave.player);\r\n    loadBulkInventory(retrievedSave.inventory);\r\n    clearAllStat();\r\n    clearStatHTML();\r\n    loadStat(retrievedSave.stat);\r\n    showAllStatHTML(retrievedSave.stat);\r\n    updateParagraph(retrievedSave.currentParagraphName, retrievedSave.player);\r\n    retrievedSave.inventory.forEach((element) => {\r\n        if (element.item.itemQty > 0) {\r\n            appendItemHTML(element.item);\r\n        }\r\n    });\r\n    showNameDiv(retrievedSave.player.playerName);\r\n    showPronouns(retrievedSave.player.pronouns);\r\n    let savedPronouns = document.getElementById(`${retrievedSave.player.pronouns.subjectPro}`);\r\n    if (savedPronouns) {\r\n        loadPronounsRadioBtn(retrievedSave.player.pronouns);\r\n    }\r\n}\r\n// TODO: user should be able to toggle auto-save on/off\r\nexport function autoSave() {\r\n    localStorage.setItem('autoSave', save());\r\n}\r\nexport function autoLoad() {\r\n    let retrievedSave = JSON.parse(localStorage.getItem('autoSave'));\r\n    if (retrievedSave) {\r\n        load(retrievedSave);\r\n    }\r\n}\r\n/**\r\n * Save the game's state to LocalStorage\r\n * @param saveSlot string that would later used as LocalStorage key.\r\n */\r\nexport function newSave(saveSlot) {\r\n    //check if LocalStorage is supported on client's browser\r\n    if (typeof (Storage) !== \"undefined\") {\r\n        console.log(`LocalStorage is supported! Saved file to ${saveSlot}`);\r\n        localStorage.setItem(saveSlot, save());\r\n        getSaveDesc(saveSlot);\r\n    }\r\n    else {\r\n        console.log(\"LocalStorage is not supported in this browser! Please export the save code instead.\");\r\n    }\r\n}\r\n//TODO: Make a proper LocalStorage is not supported message that shows on page, not just in console.\r\nexport function loadSave(saveSlot) {\r\n    if (typeof (Storage) !== \"undefined\") {\r\n        console.log(\"LocalStorage is supported!\");\r\n        let retrievedSave = JSON.parse(localStorage.getItem(saveSlot));\r\n        load(retrievedSave);\r\n    }\r\n    else {\r\n        console.log(\"LocalStorage is not supported in this browser! Please export the save code instead.\");\r\n    }\r\n}\r\nexport function exportStorageSave(saveSlot) {\r\n    let retrievedSave = localStorage.getItem(saveSlot);\r\n    let saveMessage = document.querySelector('#exportMessage');\r\n    saveMessage.textContent = null; //clear old message\r\n    saveMessage.innerHTML += `Save exported from ${saveSlot}.<br> \r\n    Copy and keep the code bellow to load later`;\r\n    let saveOutput = document.querySelector(`#saveOutput`);\r\n    saveOutput.value = ``; //clear old save\r\n    saveOutput.value = `${btoa(retrievedSave)}`; //encode to Base64\r\n    saveOutput.select();\r\n}\r\n/**\r\n * Generate a random-looking string that save the game's progress.\r\n * The string is encoded to Base64 to prevent players (to an extent) from altering their save.\r\n */\r\nexport function exportSave() {\r\n    let saveMessage = document.querySelector('#exportMessage');\r\n    saveMessage.textContent = null; //clear old message\r\n    saveMessage.innerHTML += `Save created at ${new Date().toLocaleString()}.<br> \r\n    Copy and keep the code bellow to load later`;\r\n    let saveOutput = document.querySelector(`#saveOutput`);\r\n    saveOutput.value = ``; //clear old save\r\n    saveOutput.value += `${btoa(save())}`; //encode to Base64\r\n    saveOutput.select();\r\n}\r\n/**\r\n * Get Save Code from textarea id = \"saveOutput\"\r\n * Decode the encoded save string and load game.\r\n */\r\nexport function loadSaveCode() {\r\n    let loadCode = document.querySelector(\"#saveOutput\").value;\r\n    loadCode = atob(loadCode);\r\n    console.log(loadCode);\r\n    let retrievedSave = JSON.parse(loadCode);\r\n    console.log(retrievedSave);\r\n    load(retrievedSave);\r\n    let loadMessage = document.querySelector(`#exportMessage`);\r\n    loadMessage.innerHTML += `<div class=\"alert alert-warning alert-dismissible fade show mt-1\" role=\"alert\">\r\n        <strong> Load Success! </strong> Loaded save from ${retrievedSave.date}.\r\n            <button type = \"button\" class=\"btn-close\" data - bs - dismiss=\"alert\" aria - label=\"Close\"> </button>\r\n                </div>`;\r\n    //TODO: verify if save is valid. \r\n    //TODO: fallback: If load is invalid, start new game.\r\n}\r\nexport function getSaveDesc(saveSlot) {\r\n    let retrievedSave = JSON.parse(localStorage.getItem(saveSlot));\r\n    let description = retrievedSave.date;\r\n    let descContainer = document.querySelector(`#saveDesc-${saveSlot}`);\r\n    descContainer.innerHTML = description;\r\n}\r\n","import { greyOut } from \"../../tools/formatting\";\r\nimport { checkInInventory, checkStat } from \"./checkConditions\";\r\nimport { checkResult } from \"./choiceCondition\";\r\nexport function checkItemCondition(item, condition) {\r\n    let preItem = condition.item;\r\n    let stat = condition.stat;\r\n    let a, b;\r\n    if (preItem) {\r\n        preItem.forEach(requiredItem => {\r\n            let temp = checkInInventory(`#${item.itemCode}`, requiredItem.itemCode, requiredItem.itemQty, requiredItem.itemName);\r\n            if (temp == checkResult.failed) {\r\n                a = temp;\r\n            }\r\n        });\r\n    }\r\n    if (stat) {\r\n        stat.forEach(stat => {\r\n            let temp = checkStat(item.itemCode, stat.statName, stat.value);\r\n            if (temp == checkResult.failed) {\r\n                b = temp;\r\n            }\r\n        });\r\n    }\r\n    if (a == checkResult.failed || b == checkResult.failed) {\r\n        let itemHTML = document.querySelector(`#${item.itemCode}`);\r\n        greyOut(itemHTML);\r\n        itemHTML.classList.add(\"item-blocked\");\r\n        console.log(`${item.itemCode} is blocked`);\r\n    }\r\n}\r\n// function appendInventoryReason(elementId: string, itemName: string, reqQty: number, actualQty: number, result: checkResult) {\r\n//     let elementHTML = document.querySelector(`#${elementId}`);\r\n//     switch (result) {\r\n//         case (result = checkResult.notFound):\r\n//             elementHTML!.innerHTML += ` [Condition not met: ${itemName} cannot be found in inventory]`;\r\n//             break;\r\n//         case (result = checkResult.insufficientQuantity):\r\n//             elementHTML!.innerHTML += ` [Condition not met: ${itemName} quantity ${actualQty}/${reqQty}]`;\r\n//             break;\r\n//     }\r\n// }\r\n","import { singleParagraph } from \"../model/paragraph\";\r\nimport { getName, getPlayer } from \"../player/playerInfo\";\r\nimport { showPronounDialogue } from \"../player/pronouns\";\r\nimport { getParagraph } from \"../../game/allParagraphs\";\r\nimport { showChoices } from \"./showChoices\";\r\nimport { showItems } from \"./showItems\";\r\nlet currentParagraph;\r\nconst itemContainer = document.getElementById(\"items\");\r\nconst choiceContainer = document.getElementById(\"choices\");\r\n/**Get nextName, then show the paragraph with that name.\r\n  * @param {number} nextName next paragraph's name.\r\n  * @param {string} style optional. Update paragraph style. Leave blank for default: clear previous paragraph then show the next one.\r\n*/\r\nexport function updateParagraph(nextName, style) {\r\n    let player = getPlayer();\r\n    let pName = getParagraph(player).findIndex(element => element.name == nextName);\r\n    let p = new singleParagraph(getParagraph(player)[pName]);\r\n    let nextParagraph = p.paragraph;\r\n    // let nextParagraph = getParagraph(player)[nextid];\r\n    let items = null;\r\n    itemContainer.innerHTML = null;\r\n    setCurrentParagraphName(nextName);\r\n    // append paragraph content according to its style property.\r\n    switch (style) {\r\n        case \"append\":\r\n            currentParagraph = currentParagraph + \" \" + nextParagraph.content;\r\n            paragraphContainerContent(currentParagraph);\r\n            break;\r\n        default:\r\n            paragraphContainerContent(null);\r\n            currentParagraph = nextParagraph.content;\r\n            paragraphContainerContent(currentParagraph);\r\n            break;\r\n    }\r\n    // get choices, clear choice container div & append new content.\r\n    let choices = nextParagraph.choices;\r\n    choiceContainer.textContent = null;\r\n    showChoices(choices, choiceContainer);\r\n    items = nextParagraph.item;\r\n    if (items) {\r\n        showItems(items, itemContainer, nextName);\r\n    }\r\n    // if paragraph content has element id = \"pronouns\"\r\n    if (document.getElementById(\"pronouns\")) {\r\n        showPronounDialogue();\r\n        if (player.pronouns.Category != \"\") {\r\n            let selectedPronoun = document.getElementById(player.pronouns.subjectPro);\r\n            selectedPronoun.checked = true;\r\n        }\r\n    }\r\n    // if paragraph content has playerName input field: \r\n    if (document.querySelector(\"input#playerName\")) {\r\n        document.addEventListener(\"keyup\", function (e) {\r\n            // e.target was the clicked element\r\n            if (e.target && e.target.matches(\"input#playerName\")) {\r\n                getName();\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Set the content of HTML element id = 'paragraph'\r\n * @param content : string or null to clear all content\r\n */\r\nfunction paragraphContainerContent(content) {\r\n    const paragraphContainer = document.getElementById(\"paragraph\");\r\n    paragraphContainer.innerHTML = content;\r\n}\r\nexport function choiceContainerContent(content) {\r\n    const choiceContainer = document.getElementById(\"choices\");\r\n    choiceContainer.innerHTML += content;\r\n}\r\nlet currentName = \"start\";\r\nfunction setCurrentParagraphName(name) {\r\n    currentName = name;\r\n}\r\nexport function getCurrentParagraphName() {\r\n    return currentName;\r\n}\r\n","import { applyConsequence } from \"../conditions/consequences\";\r\nimport { checkChoiceCondition } from \"../conditions/choiceCondition\";\r\nimport { autoSave } from \"../script/saveScript\";\r\nimport { updateParagraph } from \"./paragraphFunctions\";\r\n/**\r\n * Show available choices in a paragraph\r\n * @param choices should takes the value of allParagraphs[nextid].choices\r\n * @param choiceContainer document.getElementById(\"choices\");\r\n */\r\nexport function showChoices(choices, choiceContainer) {\r\n    if (choices) {\r\n        for (let i = 0; i < choices.length; i++) {\r\n            let currentChoice = choices[i];\r\n            let choice = `<a href=\"#\" \r\n            class=\"choices\" id=\"cid${currentChoice.id}\" >\r\n            ${currentChoice.content} \r\n            </a><br>`;\r\n            choiceContainer.innerHTML += choice;\r\n            if (currentChoice.precondition) {\r\n                console.log(`choice n.${currentChoice.id} has condition!`);\r\n                checkChoiceCondition(currentChoice, currentChoice.precondition);\r\n            }\r\n            else {\r\n                // console.log(`choice n.${currentChoice.id} has no condition`);\r\n            }\r\n            //if(currentChoice.quest){\r\n            //\r\n            //}\r\n        }\r\n        for (let i = 0; i < choices.length; i++) {\r\n            let currentChoice = choices[i];\r\n            let nextName = currentChoice.nextName;\r\n            let style = choices[i].style;\r\n            let choiceHTML = choiceContainer.querySelector(`#cid${currentChoice.id}`);\r\n            //if element doesn't have class choice-blocked, add event listener, else, don't do anything\r\n            if (!choiceHTML.classList.contains(\"choice-blocked\")) {\r\n                choiceHTML.addEventListener('click', function () {\r\n                    if (currentChoice.consequence) {\r\n                        applyConsequence(currentChoice.consequence);\r\n                    }\r\n                    removeChoices();\r\n                    updateParagraph(nextName, style);\r\n                    autoSave();\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction removeChoices() {\r\n    let choiceContainer = document.querySelector('#choices');\r\n    removeAllChildNodes(choiceContainer);\r\n}\r\nfunction removeAllChildNodes(parent) {\r\n    while (parent.firstChild) {\r\n        parent.removeChild(parent.firstChild);\r\n    }\r\n}\r\n","import { getInventory, getItem } from \"../inventory/inventory\";\r\nimport { autoSave } from \"../script/saveScript\";\r\nimport { checkItemCondition } from \"../conditions/itemCondition\";\r\nimport { getCurrentParagraphName } from \"./paragraphFunctions\";\r\nexport function showItems(items, itemContainer, pname) {\r\n    //these are kinda ugly but oh my god did it run :( Probably should refactor some other time\r\n    for (var i = 0; i < items.length; i++) {\r\n        let currentItem = items[i];\r\n        let found = getInventory().find(element => element.item.itemName == currentItem.itemName && element.item.itemCode == currentItem.itemCode);\r\n        if (found) { //item name is in inventory\r\n            //Check if item had been found at this location\r\n            console.log(pname);\r\n            let pNameCheck = found.pickedUpLocation.includes(`${pname}`);\r\n            console.log(pNameCheck);\r\n            if (pNameCheck) {\r\n                let message = `<a href=\"#\" class=\"items picked\" id=\"${currentItem.itemCode}\">[Added to Inventory] You've already picked up ${currentItem.itemName}</a><br>`;\r\n                console.log(`${currentItem.itemName} is already picked up at this location (${pname})`);\r\n                itemContainer.innerHTML += message;\r\n            }\r\n            else { //not found at this location\r\n                let item = `<a href=\"#\" class=\"items item-new-location\" id=\"${currentItem.itemCode}\">You found ${currentItem.itemQty} ${currentItem.itemName}</a><br>`;\r\n                itemContainer.innerHTML += item;\r\n                if (currentItem.precondition) {\r\n                    checkItemCondition(currentItem, currentItem.precondition);\r\n                }\r\n            }\r\n        }\r\n        else { //entirely new item name, entirely new location\r\n            let item = `<a href=\"#\" class=\"items\" id=\"${currentItem.itemCode}\">You found ${currentItem.itemQty} ${currentItem.itemName}</a><br>`;\r\n            itemContainer.innerHTML += item;\r\n            if (currentItem.precondition) {\r\n                checkItemCondition(currentItem, currentItem.precondition);\r\n            }\r\n        }\r\n    }\r\n    //add Event listener\r\n    for (var i = 0; i < items.length; i++) {\r\n        let currentItem = items[i];\r\n        let itemHTML = itemContainer.querySelector(`#${currentItem.itemCode}`);\r\n        let pickedUp = itemHTML.classList.contains(`picked`);\r\n        let newLocation = itemHTML.classList.contains(`item-new-location`);\r\n        //if item has class item-new-location, push new location and add to quantity\r\n        let itemBlocked = itemHTML?.classList.contains(\"item-blocked\");\r\n        if (newLocation) {\r\n            itemHTML.addEventListener(\"click\", function () {\r\n                getItem(currentItem, getCurrentParagraphName());\r\n                let message = `[Added to Inventory] You picked up ${currentItem.itemName}`;\r\n                itemHTML.innerHTML = message;\r\n                itemHTML.style.color = \"#6A6C6E\";\r\n                autoSave();\r\n            }, { once: true });\r\n        }\r\n        else if (itemBlocked) {\r\n            //do nothing :) \r\n        }\r\n        else if (pickedUp) {\r\n            itemHTML.style.color = \"#6A6C6E\";\r\n        }\r\n        else { //entirely new item name, entirely new location\r\n            itemHTML.addEventListener(\"click\", function () {\r\n                getItem(currentItem, getCurrentParagraphName());\r\n                console.log(currentItem.itemName);\r\n                let message = `[Added to Inventory] You picked up ${currentItem.itemName}`;\r\n                itemHTML.innerHTML = message;\r\n                itemHTML.style.color = \"#6A6C6E\";\r\n                autoSave();\r\n            }, { once: true });\r\n        }\r\n    }\r\n}\r\n","import { clearInventory, clearInventoryHTML } from \"../inventory/inventory\";\r\nimport { conStyle } from \"../model/paragraph\";\r\nimport { updateParagraph } from \"../paragraphs/paragraphFunctions\";\r\nimport { resetPlayer } from \"../player/playerInfo\";\r\nimport { clearAllStat, clearStatHTML, getStat, restoreDefaultStat, showAllStatHTML } from \"../player/statInfos\";\r\nimport { autoSave } from \"./saveScript\";\r\nexport function restartGame() {\r\n    clearInventory();\r\n    resetPlayer();\r\n    clearInventoryHTML();\r\n    clearAllStat();\r\n    clearStatHTML();\r\n    restoreDefaultStat();\r\n    showAllStatHTML(getStat());\r\n    updateParagraph(\"start\");\r\n    autoSave();\r\n}\r\n;\r\n/**\r\n * Toggle the appearance of reason on choices\r\n * 3 cases: show both the choice and the condition\r\n * hide choice if condition is not met\r\n * hide the reason\r\n */\r\nexport function toggleReason(style) {\r\n    switch (style) {\r\n        case (style = conStyle.hidden):\r\n            //hide reason and choice\r\n            break;\r\n        case (style = conStyle.hideReason):\r\n            //hide reason only\r\n            break;\r\n        case (style = conStyle.show):\r\n            //show choice and reason\r\n            break;\r\n    }\r\n}\r\n/**\r\n * Increase font size\r\n */\r\nexport function setFontSize(size) {\r\n}\r\nlet gameInfo = {\r\n    gameVersion: `0.0.1`,\r\n    IFID: ``,\r\n    name: `Demo`,\r\n    description: ``,\r\n    author: `Author Name`,\r\n    engineVersion: `0.0.0.1`,\r\n    engine: ``\r\n};\r\n","import { getName } from \"../player/playerInfo\";\r\nimport { showPronounDialogue } from \"../player/pronouns\";\r\nimport { updateParagraph } from \"../paragraphs/paragraphFunctions\";\r\nimport { autoLoad, exportSave, exportStorageSave, getSaveDesc, loadSave, loadSaveCode, newSave } from \"./saveScript\";\r\nimport { restartGame } from \"./settings\";\r\nimport { getStat, showAllStatHTML } from \"../player/statInfos\";\r\n///////////////////Initialize game///////////////////\r\nwindow.onload = function () {\r\n    //check if autoSave exits?\r\n    let autoSave = localStorage.getItem('autoSave');\r\n    if (autoSave) {\r\n        autoLoad();\r\n    }\r\n    else {\r\n        updateParagraph(\"start\");\r\n        showAllStatHTML(getStat());\r\n    }\r\n};\r\n// Add event listener to HTML element input with id = \"playerName\"\r\nconst nameInput = document.querySelector(\"#playerName\");\r\nif (nameInput) {\r\n    nameInput.addEventListener('keyup', getName);\r\n}\r\n;\r\n////////////////////button!!!!!!!!!!!!/////////////\r\nconst button = document.querySelector(\"#coolbutton\");\r\nfunction doThing(thing) {\r\n    console.log(\"thing!\");\r\n}\r\nif (button) {\r\n    button.addEventListener('click', doThing);\r\n}\r\n///////////////////////////////////////////////////\r\nshowPronounDialogue();\r\n// Add event listener to all Save buttons\r\nconst saveButton = document.querySelectorAll(\".save\");\r\nsaveButton.forEach(element => {\r\n    let slotNumber = element.getAttribute(\"value\");\r\n    element.addEventListener('click', function () {\r\n        newSave(slotNumber);\r\n    });\r\n});\r\n// Add event listener to all Load buttons\r\nconst loadButton = document.querySelectorAll(\".load\");\r\nloadButton.forEach(element => {\r\n    let slotNumber = element.getAttribute(\"value\");\r\n    element.addEventListener('click', function () {\r\n        loadSave(slotNumber);\r\n    });\r\n});\r\n// Add event listener to all Load buttons\r\nconst exportLocalSaveBtn = document.querySelectorAll(\".export\");\r\nexportLocalSaveBtn.forEach(element => {\r\n    let slotNumber = element.getAttribute(\"value\");\r\n    element.addEventListener('click', function () {\r\n        exportStorageSave(slotNumber);\r\n    });\r\n});\r\n// Add event listener to export save button\r\nconst exportSaveBtn = document.querySelector(\".exportSave\");\r\nexportSaveBtn?.addEventListener('click', function () {\r\n    exportSave();\r\n});\r\n// Add event listener to import save button\r\nconst importSaveBtn = document.querySelector(\".importSave\");\r\nimportSaveBtn?.addEventListener(`click`, function () {\r\n    loadSaveCode();\r\n});\r\n// Add event listener to restart game button\r\nconst restartBtn = document.querySelector(\".restartBtn\");\r\nrestartBtn?.addEventListener('click', function () { restartGame(); });\r\n// Load save Description, from slot 1 to 3\r\nfor (let i = 1; i < 4; i++) {\r\n    if (localStorage.getItem(`slot-${i}`)) {\r\n        getSaveDesc(`slot-${i}`);\r\n    }\r\n}\r\n"],"sourceRoot":""}